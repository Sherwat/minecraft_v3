<!DOCTYPE html>
<html>
<head>
    <style>
        .body_background 
{
    background-image: url("https://i.ytimg.com/vi/Dg0IjOzopYU/maxresdefault.jpg");
    background-position: center;
    background-size: cover;
}
#myCanvas
{
    border-width:10px;
    background-color: white; 
    border-style:ridge;
}

h2
{
	border-radius: 10px;
	width: 200px;
	padding: 5px;
 }
h3
{
	display: inline-block;
}
span
{
	color: black;	
}
a
{
	text-decoration: none;
	font-size: 20px;
	padding: 10px;
    float: left;
    border-radius: 10px;
}
#head_info
{
	width: 600px;
	border-radius: 10px;
	margin-bottom: 10px;
}

#instructions_button
{
    margin-top: 10px;
    margin-bottom: 10px;
    color:red;
    background-color:blue;
    border-radius: 10px;
}
    </style>
	<title>Minecraft</title>

<script src="fabric.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

<body class="body_background">

	<center>

    <h2 class="btn-primary">MINECRAFT</h2>
    
    <button id="instructions_button" onclick="show()">Instructions</button>

	<div id="head_info" class="btn-danger">
		<h3>Current Width  = <span id="current_width">30</span></h3>
		<h3>Current Height  = <span id="current_height">30</span></h3>
    </div>
    
    <canvas width="1000" height="600" id="myCanvas"></canvas>

	</center>
	<script>
        var canvas = new fabric.Canvas('myCanvas');

        player_x = 10;
        player_y = 10;

        block_image_width = 30;
        block_image_height = 30;

        var player_object = " ";

        var block_image_object = " ";

        function player_update()
        {
            fabric.Image.fromURL("player.png", function(Img)
            {
                player_object = Img;
                player_object.scaleToWidth(150);
                player_object.scaleToHeight(140);
                player_object.set({
                    top:player_y,
                    left:player_x
                }
                );
                canvas.add(player_object);
            }
            );
        }

        function new_image(get_image)
        {
            fabric.Image.fromURL(get_image, function(Img)
            {
                block_image_object = Img;
                block_image_object.scaleToWidth(block_image_width);
                block_image_object.scaleToHeight(block_image_height);
                block_image_object.set({
                    top:player_y,
                    left:player_x
                }
                );
                canvas.add(block_image_object);
            }
            );
        }

        window.addEventListener("keydown", my_keydown)

        function my_keydown(e)
        {
            keyPressed = e.keyCode;
            console.log(keyPressed);
            
        if(e.shiftKey == true && keyPressed == '80')
            {
                console.log("Shift p");
                block_image_width = block_image_width + 10;
                block_image_height = block_image_height + 10;
                document.getElementById("current_width").innerHTML = block_image_width;
                document.getElementById("current_height").innerHTML = block_image_height;
            }

        if(e.shiftKey == true && keyPressed == '77')
            {
                console.log("Shift m");
                block_image_width = block_image_width - 10;
                block_image_height = block_image_height - 10;
                document.getElementById("current_width").innerHTML = block_image_width;
                document.getElementById("current_height").innerHTML = block_image_height;
            }

            if(keyPressed == '38')
            {
                up();
                console.log("up");
            }

            if(keyPressed == '40')
            {
                down();
                console.log("down");
            }

            if(keyPressed == '37')
            {
                left();
                console.log("left");
            }

            if(keyPressed == '39')
            {
                right();
                console.log("right");
            }

            if(keyPressed == '87')
            {
                new_image('wall.jpg');
                console.log("wall (w)");
            }

            if(keyPressed == '71')
            {
                new_image('ground.png');
                console.log("ground (g)");
            }

            if(keyPressed == '76')
            {
                new_image('light_green.png');
                console.log("light_green (l)");
            }

            if(keyPressed == '84')
            {
                new_image('trunk.jpg');
                console.log("trunk (t)");
            }

            if(keyPressed == '82')
            {
                new_image('roof.jpg');
                console.log("roof (r)");
            }

            if(keyPressed == '89')
            {
                new_image('yellow_wall.png');
                console.log("yellow_wall (y)");
            }

            if(keyPressed == '68')
            {
                new_image('dark_green.png');
                console.log("dark_green (d)");
            }

            if(keyPressed == '85')
            {
                new_image('unique.png');
                console.log("unique (u)");
            }

            if(keyPressed == '67')
            {
                new_image('cloud.jpg');
                console.log("cloud (c)");
            }
        }

        function up()
        {
            if(player_y >= 0)
            {
                player_y = player_y - block_image_height;
                console.log("Block Image Height = " + block_image_height);
                console.log("Current X position = " + player_x + "and Current Y position = " + player_y);
                canvas.remove(player_object);
                player_update();
            }
        }

        function down()
        {
            if(player_y <= 500)
            {
                player_y = player_y + block_image_height;
                console.log("Block Image Height = " + block_image_height);
                console.log("Current X position = " + player_x + "and Current Y position = " + player_y);
                canvas.remove(player_object);
                player_update();
            }
        }

        function left()
        {
            if(player_x >= 0)
            {
                player_x = player_x - block_image_width;
                console.log("Block Image Width = " + block_image_width);
                console.log("Current X position = " + player_x + "and Current Y position = " + player_y);
                canvas.remove(player_object);
                player_update();
            }
        }

        function right()
        {
            if(player_x <= 850)
            {
                player_x = player_x + block_image_width;
                console.log("Block Image Width = " + block_image_width);
                console.log("Current X position = " + player_x + "and Current Y position = " + player_y);
                canvas.remove(player_object);
                player_update();
            }
        }

        function show()
        {
            window.alert("Shift and p = Increase Block Size | Shift and m = Decrease Block Size | w = wall | r = roof | g = ground | l = light green | t = trunk | y = yellow wall | d = dark green | c = cloud | u = unique ")
        }
    </script>
</body>
</html>